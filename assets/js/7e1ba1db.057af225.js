(self.webpackChunkdapr_handbook=self.webpackChunkdapr_handbook||[]).push([[878],{2299:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return p},metadata:function(){return o},toc:function(){return i},default:function(){return d}});var r=t(2122),a=t(9756),s=(t(7294),t(3905)),p={},o={unversionedId:"getting-started/prerequisites",id:"getting-started/prerequisites",isDocsHomePage:!1,title:"\u73af\u5883\u51c6\u5907",description:"\u5b89\u88c5 Docker",source:"@site/docs/01-getting-started/02-prerequisites.md",sourceDirName:"01-getting-started",slug:"/getting-started/prerequisites",permalink:"/docs/getting-started/prerequisites",version:"current",sidebarPosition:2,frontMatter:{},sidebar:"gettingstarted",previous:{title:"\u6982\u8ff0",permalink:"/docs/getting-started/overview"},next:{title:"Hello World",permalink:"/docs/getting-started/Hello-World"}},i=[{value:"\u5b89\u88c5 Docker",id:"\u5b89\u88c5-docker",children:[]},{value:"\u5b89\u88c5 Dapr CLI",id:"\u5b89\u88c5-dapr-cli",children:[]},{value:"\u521d\u59cb\u5316 Dapr",id:"\u521d\u59cb\u5316-dapr",children:[{value:"1. \u8fd0\u884c\u521d\u59cb\u5316\u547d\u4ee4",id:"1-\u8fd0\u884c\u521d\u59cb\u5316\u547d\u4ee4",children:[]},{value:"2. \u9a8c\u8bc1\u5bb9\u5668\u6b63\u5728\u8fd0\u884c",id:"2-\u9a8c\u8bc1\u5bb9\u5668\u6b63\u5728\u8fd0\u884c",children:[]},{value:"3. \u9a8c\u8bc1\u7ec4\u4ef6\u76ee\u5f55\u5df2\u521d\u59cb\u5316",id:"3-\u9a8c\u8bc1\u7ec4\u4ef6\u76ee\u5f55\u5df2\u521d\u59cb\u5316",children:[]}]},{value:"\u5347\u7ea7 Dapr",id:"\u5347\u7ea7-dapr",children:[]}],l={toc:i};function d(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,s.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"\u5b89\u88c5-docker"},"\u5b89\u88c5 Docker"),(0,s.kt)("p",null,"\u53c2\u8003\u5b98\u65b9\u6587\u6863 ",(0,s.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/zh-cn/virtualization/windowscontainers/quick-start/set-up-environment?tabs=Windows-10#install-docker"},"https://docs.microsoft.com/zh-cn/virtualization/windowscontainers/quick-start/set-up-environment?tabs=Windows-10#install-docker")),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"\u6211\u4eec\u4e3b\u8981\u91c7\u7528Linux\u5bb9\u5668\uff0c\u800c\u975eWindows\u5bb9\u5668\u3002")),(0,s.kt)("h2",{id:"\u5b89\u88c5-dapr-cli"},"\u5b89\u88c5 Dapr CLI"),(0,s.kt)("p",null,"Dapr CLI \u662f\u60a8\u7528\u4e8e\u5404\u79cd Dapr \u76f8\u5173\u4efb\u52a1\u7684\u4e3b\u8981\u5de5\u5177\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u8fd0\u884c\u4e00\u4e2aDapr sidecar\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c \u4ee5\u53ca\u67e5\u770bsidecar\u65e5\u5fd7\uff0c\u5217\u51fa\u8fd0\u884c\u670d\u52a1\uff0c\u5e76\u8fd0\u884c Dapr \u4eea\u8868\u677f\u3002 Dapr CLI \u540c\u65f6\u4f7f\u7528 \u81ea\u6258\u7ba1 \u548c Kubernetes \u73af\u5883\u3002"),(0,s.kt)("p",null,"\u5f00\u59cb\u4e0b\u8f7d\u5e76\u5b89\u88c5 Dapr CLI\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},'powershell -Command "iwr -useb https://raw.githubusercontent.com/dapr/cli/master/install/install.ps1 | iex"\n')),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},"Installing Dapr...\nCreating c:\\dapr directory\nDownloading https://api.github.com/repos/dapr/cli/releases/assets/34341976 ...\nExtracting c:\\dapr\\dapr_windows_amd64.zip...\nCLI version: 1.1.0\nRuntime version: n/a\nClean up c:\\dapr\\dapr_windows_amd64.zip...\nTry to add c:\\dapr to User Path Environment variable...\nAdded c:\\dapr to User Path - C:\\Users\\zhurong\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\zhurong\\.dotnet\\tools;C:\\Program Files\\JetBrains\\DataGrip 2020.3.2\\bin;;C:\\Users\\zhurong\\AppData\\Roaming\\npm;C:\\Program Files\\JetBrains\\JetBrains Rider 2021.1.2\\bin;;c:\\dapr\n\nDapr CLI is installed successfully.\nTo get started with Dapr, please visit https://docs.dapr.io/getting-started/ .\nEnsure that Docker Desktop is set to Linux containers mode when you run Dapr in self hosted mode.\nPS C:\\Users\\zhurong>\n")),(0,s.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u91cd\u65b0\u542f\u52a8\u60a8\u7684\u7ec8\u7aef/\u547d\u4ee4\u63d0\u793a\u548c\u8fd0\u884c\u4ee5\u4e0b\u64cd\u4f5c\u6765\u9a8c\u8bc1CLI\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},'PS C:\\Users\\zhurong> dapr\n\n         __\n    ____/ /___ _____  _____\n   / __  / __ \'/ __ \\/ ___/\n  / /_/ / /_/ / /_/ / /\n  \\__,_/\\__,_/ .___/_/\n              /_/\n\n===============================\nDistributed Application Runtime\n\nUsage:\n  dapr [command]\n\nAvailable Commands:\n  completion     Generates shell completion scripts\n  components     List all Dapr components. Supported platforms: Kubernetes\n  configurations List all Dapr configurations. Supported platforms: Kubernetes\n  dashboard      Start Dapr dashboard. Supported platforms: Kubernetes and self-hosted\n  help           Help about any command\n  init           Install Dapr on supported hosting platforms. Supported platforms: Kubernetes and self-hosted\n  invoke         Invoke a method on a given Dapr application. Supported platforms: Self-hosted\n  list           List all Dapr instances. Supported platforms: Kubernetes and self-hosted\n  logs           Get Dapr sidecar logs for an application. Supported platforms: Kubernetes\n  mtls           Check if mTLS is enabled. Supported platforms: Kubernetes\n  publish        Publish a pub-sub event. Supported platforms: Self-hosted\n  run            Run Dapr and (optionally) your application side by side. Supported platforms: Self-hosted\n  status         Show the health status of Dapr services. Supported platforms: Kubernetes\n  stop           Stop Dapr instances and their associated apps. . Supported platforms: Self-hosted\n  uninstall      Uninstall Dapr runtime. Supported platforms: Kubernetes and self-hosted\n  upgrade        Upgrades a Dapr control plane installation in a cluster. Supported platforms: Kubernetes\n\nFlags:\n  -h, --help          help for dapr\n      --log-as-json   Log output in JSON format\n  -v, --version       version for dapr\n\nUse "dapr [command] --help" for more information about a command.\nPS C:\\Users\\zhurong>\n')),(0,s.kt)("h2",{id:"\u521d\u59cb\u5316-dapr"},"\u521d\u59cb\u5316 Dapr"),(0,s.kt)("p",null,"Dapr \u4e0e\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e00\u8d77\u4f5c\u4e3asidecar\u8fd0\u884c\uff0c\u5728\u81ea\u6258\u7ba1\u6a21\u5f0f\u4e0b\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u662f\u60a8\u672c\u5730\u673a\u5668\u4e0a\u7684\u4e00\u4e2a\u8fdb\u7a0b\u3002 \u56e0\u6b64\uff0c\u521d\u59cb\u5316 Dapr \u5305\u62ec\u83b7\u53d6 Dapr sidecar \u4e8c\u8fdb\u5236\u6587\u4ef6\u5e76\u5c06\u5176\u5b89\u88c5\u5230\u672c\u5730\u3002"),(0,s.kt)("p",null,"\u6b64\u5916\uff0c\u9ed8\u8ba4\u521d\u59cb\u5316\u8fc7\u7a0b\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u5f00\u53d1\u73af\u5883\uff0c\u5e2e\u52a9\u7b80\u5316 Dapr \u7684\u5e94\u7528\u5f00\u53d1\u3002 \u8fd9\u5305\u62ec\u4e0b\u5217\u6b65\u9aa4\uff1a"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"\u8fd0\u884c Redis container \u5b9e\u4f8b \u5c06\u88ab\u7528\u4f5c\u672c\u5730\u7684 \u72b6\u6001\u5b58\u50a8 \u548c \u6d88\u606f\u4ee3\u7406"),(0,s.kt)("li",{parentName:"ol"},"\u8fd0\u884c\u4e00\u4e2a Zipkin \u5bb9\u5668\u5b9e\u4f8b \u7528\u4e8e\u89c2\u6d4b\u6027"),(0,s.kt)("li",{parentName:"ol"},"\u521b\u5efa\u5177\u6709\u4e0a\u8ff0\u7ec4\u4ef6\u5b9a\u4e49\u7684 \u9ed8\u8ba4\u7ec4\u4ef6\u6587\u4ef6\u5939"),(0,s.kt)("li",{parentName:"ol"},"\u8fd0\u884c\u7528\u4e8e\u672c\u5730\u6f14\u5458\u652f\u6301\u7684Dapr placement\u670d\u52a1\u5bb9\u5668\u5b9e\u4f8b")),(0,s.kt)("h3",{id:"1-\u8fd0\u884c\u521d\u59cb\u5316\u547d\u4ee4"},"1. \u8fd0\u884c\u521d\u59cb\u5316\u547d\u4ee4"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},"PS C:\\Users\\zhurong> dapr init\nMaking the jump to hyperspace...\nDownloading binaries and setting up components...\nDownloaded binaries and completed components set up.\ndaprd binary has been installed to C:\\Users\\zhurong\\.dapr\\bin.\ndapr_placement container is running.\ndapr_redis container is running.\ndapr_zipkin container is running.\nUse `docker ps` to check running containers.\nSuccess! Dapr is up and running. To get started, go here: https://aka.ms/dapr-getting-started\nPS C:\\Users\\zhurong>\n")),(0,s.kt)("h3",{id:"2-\u9a8c\u8bc1\u5bb9\u5668\u6b63\u5728\u8fd0\u884c"},"2. \u9a8c\u8bc1\u5bb9\u5668\u6b63\u5728\u8fd0\u884c"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'PS C:\\Users\\zhurong> docker ps\nCONTAINER ID   IMAGE               COMMAND                  CREATED              STATUS                        PORTS                              NAMES\n167c7b6c55c1   daprio/dapr         "./placement"            About a minute ago   Up About a minute             0.0.0.0:6050->50005/tcp            dapr_placement\n356bf84211f8   openzipkin/zipkin   "start-zipkin"           About a minute ago   Up About a minute (healthy)   9410/tcp, 0.0.0.0:9411->9411/tcp   dapr_zipkin\n12a0fbe69b55   redis               "docker-entrypoint.s\u2026"   About a minute ago   Up About a minute             0.0.0.0:6379->6379/tcp             dapr_redis\nPS C:\\Users\\zhurong>\n')),(0,s.kt)("h3",{id:"3-\u9a8c\u8bc1\u7ec4\u4ef6\u76ee\u5f55\u5df2\u521d\u59cb\u5316"},"3. \u9a8c\u8bc1\u7ec4\u4ef6\u76ee\u5f55\u5df2\u521d\u59cb\u5316"),(0,s.kt)("p",null,"\u5728 dapr init\u65f6\uff0cCLI \u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u7ec4\u4ef6\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u5305\u62ec\u51e0\u4e2a YAML \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542bstate store\u3001elevated \u548c zipkin\u3002 Dapr sidecar, \u5c06\u8bfb\u53d6\u8fd9\u4e9b\u6587\u4ef6\u3002 \u544a\u8bc9\u5b83\u4f7f\u7528Redis\u5bb9\u5668\u8fdb\u884c\u72b6\u6001\u7ba1\u7406\u548c\u6d88\u606f\u4f20\u9012\uff0c\u4ee5\u53caZipkin\u5bb9\u5668\u6765\u6536\u96c6\u8ddf\u8e2a\u3002"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"\u5728 Linux/MacOS \u4e2d Dapr \u4f7f\u7528\u9ed8\u8ba4\u7ec4\u4ef6\u548c\u6587\u4ef6\u7684\u8def\u5f84\u662f $HOME.dapr\u3002"),(0,s.kt)("li",{parentName:"ul"},"Windows \u4e2d\uff0cDapr \u521d\u59cb\u5316\u8def\u5f84\u5230 %USERPROFILE%",".","dapr\\")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},"PS C:\\Users\\zhurong> ls C:\\Users\\zhurong\\.dapr\n\n\n    \u76ee\u5f55: C:\\Users\\zhurong\\.dapr\n\n\nMode                LastWriteTime         Length Name\n----                -------------         ------ ----\nd-----        2021/5/12     11:37                bin\nd-----        2021/5/12     11:37                components\n-a----        2021/5/12     11:37            187 config.yaml\n\n\nPS C:\\Users\\zhurong>\n")),(0,s.kt)("h2",{id:"\u5347\u7ea7-dapr"},"\u5347\u7ea7 Dapr"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"\u5378\u8f7d\u5f53\u524d\u7684Dapr\u90e8\u7f72\uff1a")),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"\u8fd9\u5c06\u5220\u9664\u9ed8\u8ba4 $HOME/.dapr \u76ee\u5f55\u3001 \u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u6240\u6709\u5bb9\u5668 (dapr_redis\u3001 dapr_placement \u548c dapr_zipkin)\u3002 \u5982\u679cdocker \u547d\u4ee4\u9700\u8981sudo\uff0cLinux \u7528\u6237\u9700\u8981\u8fd0\u884c sudo \u3002")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"dapr uninstall --all\n")),(0,s.kt)("ol",{start:2},(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"\u53c2\u8003\u4e0a\u9762\u7684\u6b65\u9aa4\u5b89\u88c5\u6700\u65b0\u7684 Dapr CLI \u3002")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"\u521d\u59cb\u5316 Dapr \u8fd0\u884c\u65f6\uff1a"))),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"dapr init\n")),(0,s.kt)("ol",{start:4},(0,s.kt)("li",{parentName:"ol"},"\u518d\u6b21\u67e5\u770b\u7248\u672c\uff1a")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"$ dapr --version\n\nCLI version: 1.2\nRuntime version: 1.2\n")))}d.isMDXComponent=!0}}]);