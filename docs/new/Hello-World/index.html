<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Dapr æŒ‡å— RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Dapr æŒ‡å— Atom Feed"><title data-react-helmet="true">Hello World | Dapr æŒ‡å—</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/new/Hello-World"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Hello World | Dapr æŒ‡å—"><meta data-react-helmet="true" name="description" content="æœ¬æ•™ç¨‹å°†æ¼”ç¤ºå¦‚ä½•ä½¿Dapråœ¨æ‚¨çš„è®¡ç®—æœºä¸Šæœ¬åœ°è¿è¡Œã€‚"><meta data-react-helmet="true" property="og:description" content="æœ¬æ•™ç¨‹å°†æ¼”ç¤ºå¦‚ä½•ä½¿Dapråœ¨æ‚¨çš„è®¡ç®—æœºä¸Šæœ¬åœ°è¿è¡Œã€‚"><link data-react-helmet="true" rel="shortcut icon" href="/img/daprhandbook.png"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/new/Hello-World"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/new/Hello-World" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/new/Hello-World" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.408c5831.css">
<link rel="preload" href="/assets/js/runtime~main.763d7cdd.js" as="script">
<link rel="preload" href="/assets/js/main.9171890c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/daprhandbook.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/daprhandbook.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Dapr æŒ‡å—</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/docs/new/overview">å…¥é—¨</a><a class="navbar__item navbar__link" href="/docs/dev/state">è¿›é˜¶</a><a class="navbar__item navbar__link" href="/blog">æ–‡æ‘˜</a><a href="https://github.com/dapr-handbook/dapr-handbook.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/new/overview">æ¦‚è¿°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/new/prerequisites">ç¯å¢ƒå‡†å¤‡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/new/Hello-World">Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/new/dapr-for-dotnet">Dapr for .Net</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hello World</h1></header><p>æœ¬æ•™ç¨‹å°†æ¼”ç¤ºå¦‚ä½•ä½¿Dapråœ¨æ‚¨çš„è®¡ç®—æœºä¸Šæœ¬åœ°è¿è¡Œã€‚</p><p>æ‚¨å°†éƒ¨ç½²ä¸€ä¸ªNode.jsåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºè®¢é˜…è®¢è´­æ¶ˆæ¯å¹¶ä¿ç•™å®ƒä»¬ã€‚</p><p>ä»¥ä¸‹æ¶æ„å›¾è¯´æ˜äº†ç»„æˆç¬¬ä¸€éƒ¨åˆ†æ ·æœ¬çš„ç»„ä»¶ï¼š</p><p><img src="/assets/images/Architecture_Diagram-26ae15a3d71c0690c784ed62a2fbdef2.png"></p><p>ä¹‹åï¼Œæ‚¨å°†éƒ¨ç½²ä¸€ä¸ªPythonåº”ç”¨ç¨‹åºä»¥å……å½“å‘å¸ƒè€…ã€‚ ä¸‹é¢çš„æ¶æ„å›¾æ˜¾ç¤ºäº†æ–°ç»„ä»¶çš„æ·»åŠ ï¼š </p><p><img src="/assets/images/Architecture_Diagram_B-adc5e8dcfa9afbb21d065be258dd4784.png"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="å…ˆå†³æ¡ä»¶">å…ˆå†³æ¡ä»¶<a aria-hidden="true" class="hash-link" href="#å…ˆå†³æ¡ä»¶" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ•™ç¨‹è¦æ±‚æ‚¨åœ¨è®¡ç®—æœºä¸Šå®‰è£…ä»¥ä¸‹ç»„ä»¶ï¼š</p><ul><li>Docker</li><li>Node.js version 8 or greater <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">https://nodejs.org/zh-cn/</a></li><li>Python 3.x: <a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">https://www.python.org/downloads/</a> Note: When running this quickstart on Windows, it best to install Python from python.org rather than from the Windows store.</li><li>Postman <a href="https://www.getpostman.com/" target="_blank" rel="noopener noreferrer">https://www.getpostman.com/</a> <!-- -->[Optional]<!-- --> </li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬1æ­¥---è®¾ç½®dapr">ç¬¬1æ­¥ - è®¾ç½®Dapr<a aria-hidden="true" class="hash-link" href="#ç¬¬1æ­¥---è®¾ç½®dapr" title="Direct link to heading">â€‹</a></h2><p>æŒ‰ç…§ä¸Šä¸€ç¯‡çš„å†…å®¹ä¸‹è½½å¹¶å®‰è£…Dapr CLIå¹¶åˆå§‹åŒ–Daprã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬2æ­¥---äº†è§£ä»£ç ">ç¬¬2æ­¥ - äº†è§£ä»£ç <a aria-hidden="true" class="hash-link" href="#ç¬¬2æ­¥---äº†è§£ä»£ç " title="Direct link to heading">â€‹</a></h2><p>å…‹éš†ä»£ç åˆ°æœ¬åœ°ï¼Œå¹¶è¿›å…¥hello-worldæ–‡ä»¶å¤¹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone --depth</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> https://github.com/dapr/quickstarts.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> quickstarts/hello-world</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨å…¶ä¸­ï¼Œapp.jsæ‚¨å°†æ‰¾åˆ°ä¸€ä¸ªç®€å•çš„expressåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å…¬å¼€äº†ä¸€äº›è·¯ç”±å’Œå¤„ç†ç¨‹åºã€‚</p><p>é¦–å…ˆï¼Œçœ‹ä¸€ä¸‹æ–‡ä»¶çš„é¡¶éƒ¨ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> daprPort </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">DAPR_HTTP_PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> stateStoreName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">statestore</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> stateUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">http://localhost:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">daprPort</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/v1.0/state/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">stateStoreName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Dapr CLI é»˜è®¤ä¸º Dapr åˆ›å»ºäº†ä¸€ä¸ªç«¯å£ 3500ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œçœ‹ä¸€ä¸‹<code>neworder</code>å¤„ç†ç¨‹åºï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/neworder&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> orderId </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">orderId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Got a new order! Order ID: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> state </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        key</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;order&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">fetch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">stateUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        method</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;POST&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        body</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        headers</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Content-Type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;application/json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">throw</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Failed to persist state.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Successfully persisted state.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">message</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™ä¸ªæ¥å£ï¼Œé¦–å…ˆè®°å½•äº†ä¼ å…¥çš„æ•°æ®ï¼Œç„¶åå°† è®¢å•ID æŒä¹…åŒ–åˆ°Redisä¸­ã€‚</p><p>å¦å¤–ä¸€ä¸ªæ¥å£ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/order&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">fetch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">stateUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/order</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword control-flow" style="font-style:italic">throw</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Could not get state.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">message</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™å°†è°ƒç”¨edisç¼“å­˜ï¼Œä»¥è·å¾—<code>order</code>çš„æœ€æ–°å€¼ï¼Œä»è€Œæœ‰æ•ˆåœ°ä½¿Nodeåº”ç”¨æˆä¸ºæ— çŠ¶æ€åº”ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬3æ­¥---ä½¿ç”¨daprè¿è¡Œnodejsåº”ç”¨">ç¬¬3æ­¥ - ä½¿ç”¨Daprè¿è¡ŒNode.jsåº”ç”¨<a aria-hidden="true" class="hash-link" href="#ç¬¬3æ­¥---ä½¿ç”¨daprè¿è¡Œnodejsåº”ç”¨" title="Direct link to heading">â€‹</a></h2><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr run --app-id nodeapp --app-port </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"> --dapr-http-port </span><span class="token number" style="color:rgb(247, 140, 108)">3500</span><span class="token plain"> node app.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting Dapr with id nodeapp. HTTP Port: 3500. gRPC Port: 54032</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Node App listening on port 3000!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â€¦â€¦â€¦â€¦</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Updating metadata for app command: node app.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">You&#x27;re up and running! Both Dapr and your app logs will appear here.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>æ³¨æ„ï¼š<code>--app-port</code> æ˜¯å¯é…ç½®çš„ï¼Œæ˜¯å¯é€‰çš„ï¼Œå¦‚æœæœªæä¾›ï¼Œåˆ™ä½¿ç”¨éšæœºå¯ç”¨ç«¯å£ã€‚</p></blockquote><p><code>dapr run</code> å‘½ä»¤å°†æŸ¥æ‰¾ç›®å½•<code>~/.dapr/components</code>ï¼ŒDapråœ¨è¿è¡Œæ—¶ä½¿ç”¨çš„ç»„ä»¶å®šä¹‰æ–‡ä»¶ï¼Œéƒ½åœ¨è¿™é‡Œã€‚</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>statestore.yaml</code> çš„å†…å®¹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> dapr.io/v1alpha1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Component</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> statestore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> state.redis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> redisHost</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> redisPassword</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> actorStateStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ‚¨å¯ä»¥çœ‹åˆ°yamlæ–‡ä»¶å°†çŠ¶æ€å­˜å‚¨å®šä¹‰ä¸ºRedisï¼Œå¹¶å°†å…¶å‘½åstatestoreã€‚è¿™å°±æ˜¯app.jsä¸­è°ƒç”¨çŠ¶æ€å­˜å‚¨æ‰€ä½¿ç”¨çš„åç§°ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> stateStoreName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">statestore</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> stateUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">http://localhost:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">daprPort</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/v1.0/state/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">stateStoreName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬4æ­¥---å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡">ç¬¬4æ­¥ - å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡<a aria-hidden="true" class="hash-link" href="#ç¬¬4æ­¥---å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡" title="Direct link to heading">â€‹</a></h2><p>ç°åœ¨ï¼ŒDaprå’ŒNode.jsåº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„å·¥å…·ï¼Œå¯¹å®ƒå‘é€POSTæ¶ˆæ¯ã€‚</p><ul><li>å‘½ä»¤è¡Œ</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr invoke --app-id nodeapp --method neworder --data &quot;{\&quot;data\&quot;: { \&quot;orderId\&quot;: \&quot;42\&quot; } }&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>curl</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -XPOST -d @sample.json -H &quot;Content-Type:application/json&quot; http://localhost:3500/v1.0/invoke/nodeapp/method/neworder</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Postman</li></ul><p><img src="/assets/images/postman-e8bbc13edfddf97547337e615aa9b894.jpg"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬5æ­¥---ç¡®è®¤æˆåŠŸçš„æŒä¹…æ€§">ç¬¬5æ­¥ - ç¡®è®¤æˆåŠŸçš„æŒä¹…æ€§<a aria-hidden="true" class="hash-link" href="#ç¬¬5æ­¥---ç¡®è®¤æˆåŠŸçš„æŒä¹…æ€§" title="Direct link to heading">â€‹</a></h2><p>ç°åœ¨ï¼Œè¦éªŒè¯è®¢å•æ˜¯å¦å·²æˆåŠŸä¿å­˜åˆ°çŠ¶æ€å­˜å‚¨ä¸­ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª GET è¯·æ±‚ï¼š http://localhost:3500/v1.0/invoke/nodeapp/method/neworder</p><ul><li>å‘½ä»¤è¡Œ</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr invoke --app-id nodeapp --method order --verb GET</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>curl</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl http://localhost:3500/v1.0/invoke/nodeapp/method/order</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Postman</li></ul><p><img src="/assets/images/postman2-db2c569b7f86f8c5dd3de763a8b5f879.jpg"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬6æ­¥---ä½¿ç”¨-dapr-è¿è¡Œ-python-åº”ç”¨ç¨‹åº">ç¬¬6æ­¥ - ä½¿ç”¨ Dapr è¿è¡Œ Python åº”ç”¨ç¨‹åº<a aria-hidden="true" class="hash-link" href="#ç¬¬6æ­¥---ä½¿ç”¨-dapr-è¿è¡Œ-python-åº”ç”¨ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡è¿™ä¸ª Python åº”ç”¨ç¨‹åºï¼Œå¯ä»¥äº†è§£å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œåœ¨ä¸çŸ¥é“ç›®æ ‡ä¸»æœºåæˆ–ç«¯å£çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•é€šè¿‡ Dapr è°ƒç”¨èŠ‚ç‚¹åº”ç”¨ç¨‹åºã€‚</p><p>åœ¨app.pyæ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ç«¯ç‚¹å®šä¹‰ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr_port = os.getenv(&quot;DAPR_HTTP_PORT&quot;, 3500)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr_url = &quot;http://localhost:{}/v1.0/invoke/nodeapp/method/neworder&quot;.format(dapr_port)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Nodeåº”ç”¨ç¨‹åºçš„åå­—(nodeapp)åœ¨ä¸Šé¢çš„urlä¸­ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œè¿™å°†å…è®¸ Dapr å°†è¯·æ±‚é‡å®šå‘åˆ°æ­£ç¡®çš„ API ç«¯ç‚¹ã€‚
è¿™ä¸ªåå­—è¦è·Ÿä¸Šé¢ç»ƒä¹ ä¸­çš„åå­—ä¸€æ ·ã€‚</p><p>ä¸‹é¢çš„ä»£ç å°†æ¯ç§’æ–°å¢ä¸€ä¸ªè®¢å•</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">n = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">while True:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    n += 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    message = {&quot;data&quot;: {&quot;orderId&quot;: n}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    try:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        response = requests.post(dapr_url, json=message)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    except Exception as e:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        print(e)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    time.sleep(1)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿è¡Œè¿™ä¸ªPythonç¨‹åº</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip3 install requests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr run --app-id pythonapp python3 app.py</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Got a new order! Order ID: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Successfully persisted state.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Got a new order! Order ID: 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Successfully persisted state.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Got a new order! Order ID: 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">== APP == Successfully persisted state.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç°åœ¨ï¼Œæ‰§è¡Œå‡ æ¬¡ GET è¯·æ±‚å¹¶æŸ¥çœ‹ orderId æ¯ç§’å¦‚ä½•å˜åŒ–ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl http://localhost:3500/v1.0/invoke/nodeapp/method/order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;orderId&quot;:76}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¬¬7æ­¥---æ¸…ç†">ç¬¬7æ­¥ - æ¸…ç†<a aria-hidden="true" class="hash-link" href="#ç¬¬7æ­¥---æ¸…ç†" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr stop --app-id nodeapp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dapr stop --app-id pythonapp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿è¡Œ dapr list æŸ¥çœ‹æœåŠ¡å·²åœæ­¢è¿è¡Œã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="next-steps">Next steps<a aria-hidden="true" class="hash-link" href="#next-steps" title="Direct link to heading">â€‹</a></h2><p>Now that you&#x27;ve gotten Dapr running locally on your machine, consider these next steps:</p><ul><li>Explore additional quickstarts such as pub-sub, bindings or the distributed calculator app.</li><li>Run this hello world application in Kubernetes via the Hello Kubernetes quickstart.</li><li>Learn more about Dapr in the Dapr overview documentation.</li><li>Explore Dapr concepts such as building blocks and components in the Dapr documentation.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/new/prerequisites"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->ç¯å¢ƒå‡†å¤‡</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/new/dapr-for-dotnet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dapr for .Net<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å…ˆå†³æ¡ä»¶" class="table-of-contents__link toc-highlight">å…ˆå†³æ¡ä»¶</a></li><li><a href="#ç¬¬1æ­¥---è®¾ç½®dapr" class="table-of-contents__link toc-highlight">ç¬¬1æ­¥ - è®¾ç½®Dapr</a></li><li><a href="#ç¬¬2æ­¥---äº†è§£ä»£ç " class="table-of-contents__link toc-highlight">ç¬¬2æ­¥ - äº†è§£ä»£ç </a></li><li><a href="#ç¬¬3æ­¥---ä½¿ç”¨daprè¿è¡Œnodejsåº”ç”¨" class="table-of-contents__link toc-highlight">ç¬¬3æ­¥ - ä½¿ç”¨Daprè¿è¡ŒNode.jsåº”ç”¨</a></li><li><a href="#ç¬¬4æ­¥---å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡" class="table-of-contents__link toc-highlight">ç¬¬4æ­¥ - å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡</a></li><li><a href="#ç¬¬5æ­¥---ç¡®è®¤æˆåŠŸçš„æŒä¹…æ€§" class="table-of-contents__link toc-highlight">ç¬¬5æ­¥ - ç¡®è®¤æˆåŠŸçš„æŒä¹…æ€§</a></li><li><a href="#ç¬¬6æ­¥---ä½¿ç”¨-dapr-è¿è¡Œ-python-åº”ç”¨ç¨‹åº" class="table-of-contents__link toc-highlight">ç¬¬6æ­¥ - ä½¿ç”¨ Dapr è¿è¡Œ Python åº”ç”¨ç¨‹åº</a></li><li><a href="#ç¬¬7æ­¥---æ¸…ç†" class="table-of-contents__link toc-highlight">ç¬¬7æ­¥ - æ¸…ç†</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Dream2zz. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.763d7cdd.js"></script>
<script src="/assets/js/main.9171890c.js"></script>
</body>
</html>